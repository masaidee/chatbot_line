<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Data Management</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>Health Data Management</h1>

    <div class="container">
        <!-- Form สำหรับ user_profiles -->
        <h2>Add User Profile</h2>
        <form action="/add_user" method="POST">
            <label for="userId">User ID:</label>
            <input type="text" id="userId" name="userId" required>
            <br>
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required>
            <br>
            <label for="age">Age:</label>
            <input type="text" id="age" name="age" required>
            <br>
            <label for="gender">Gender:</label>
            <input type="text" id="gender" name="gender" required>
            <br>
            <label for="height">Height (cm):</label>
            <input type="text" id="height" name="height" required>
            <br>
            <label for="weight">Weight (kg):</label>
            <input type="text" id="weight" name="weight" required>
            <br>
            <button type="submit">Add User</button>
        </form>

        <!-- Form สำหรับ diabetes_tests -->
        <h2>Add Diabetes Test</h2>
        <form action="/add_test" method="POST">
            <label for="userId">User ID:</label>
            <input type="text" id="userId" name="userId" required>
            <br>
            <label for="age">Age:</label>
            <input type="text" id="age" name="age" required>
            <br>
            <label for="bmi">BMI:</label>
            <input type="number" id="bmi" name="bmi" required>
            <br>
            <label for="visceral">Visceral Fat:</label>
            <input type="number" id="visceral" name="visceral" required>
            <br>
            <label for="wc">Waist Circumference (cm):</label>
            <input type="number" id="wc" name="wc" required>
            <br>
            <label for="ht">Hypertension:</label>
            <input type="number" id="ht" name="ht" required>
            <br>
            <label for="sbp">Systolic BP (mmHg):</label>
            <input type="number" id="sbp" name="sbp" required>
            <br>
            <label for="dbp">Diastolic BP (mmHg):</label>
            <input type="number" id="dbp" name="dbp" required>
            <br>
            <label for="fbs">Fasting Blood Sugar (mg/dL):</label>
            <input type="number" id="fbs" name="fbs" required>
            <br>
            <label for="HbAlc">HbA1c (%):</label>
            <input type="number" id="HbAlc" name="HbAlc" required>
            <br>
            <label for="family_his">Family History (0 = No, 1 = Yes):</label>
            <input type="number" id="family_his" name="family_his" required>
            <br>
            <button type="submit">Add Test</button>
        </form>

        <!-- Form สำหรับ food_recommendations -->
        <h2>Add Food Recommendation</h2>
        <form action="/add_food" method="POST">
            <label for="food_id">Food ID:</label>
            <input type="text" id="food_id" name="food_id" required>
            <br>
            <label for="food_name">Food Name:</label>
            <input type="text" id="food_name" name="food_name" required>
            <br>
            <label for="calories">Calories:</label>
            <input type="number" id="calories" name="calories" required>
            <br>
            <button type="submit">Add Food</button>
        </form>

        <!-- Form สำหรับ daily_activities -->
        <h2>Add Daily Activity</h2>
        <form action="/add_activity" method="POST">
            <label for="activity_id">Activity ID:</label>
            <input type="text" id="activity_id" name="activity_id" required>
            <br>
            <label for="activity_name">Activity Name:</label>
            <input type="text" id="activity_name" name="activity_name" required>
            <br>
            <label for="duration">Duration (minutes):</label>
            <input type="number" id="duration" name="duration" required>
            <br>
            <button type="submit">Add Activity</button>
        </form>
    </div>

    <!-- แสดงข้อมูลจากทั้ง 4 collection -->
    <div class="container data-section">
        <h2>User Profiles</h2>
        <ul>
            {% for user in users %}
                <li><strong>ID:</strong> {{ user._id }}, <strong>Name:</strong> {{ user.name }}, <strong>Age:</strong> {{ user.age }}, <strong>Gender:</strong> {{ user.gender }}, <strong>Height:</strong> {{ user.height }} cm, <strong>Weight:</strong> {{ user.weight }} kg</li>
            {% endfor %}
        </ul>

        <h2>Diabetes Tests</h2>
        <ul>
            {% for test in tests %}
                <li><strong>ID:</strong> {{ test._id }}, <strong>User ID:</strong> {{ test.user_id }}, <strong>BMI:</strong> {{ test.bmi }}, <strong>Visceral Fat:</strong> {{ test.visceral }}, <strong>Waist Circumference:</strong> {{ test.wc }} cm, <strong>Hypertension:</strong> {{ test.ht }}, <strong>Systolic BP:</strong> {{ test.sbp }} mmHg, <strong>Diastolic BP:</strong> {{ test.dbp }} mmHg, <strong>Fasting Blood Sugar:</strong> {{ test.fbs }} mg/dL, <strong>HbA1c:</strong> {{ test.HbAlc }}%, <strong>Family History:</strong> {{ test.family_his }}</li>
            {% endfor %}
        </ul>

        <h2>Food Recommendations</h2>
        <ul>
            {% for food in foods %}
                <li><strong>ID:</strong> {{ food._id }}, <strong>Name:</strong> {{ food.food_name }}, <strong>Calories:</strong> {{ food.calories }} kcal</li>
            {% endfor %}
        </ul>

        <h2>Daily Activities</h2>
        <ul>
            {% for activity in activities %}
                <li><strong>ID:</strong> {{ activity._id }}, <strong>Name:</strong> {{ activity.activity_name }}, <strong>Duration:</strong> {{ activity.duration }} minutes</li>
            {% endfor %}
        </ul>
    </div>
</body>
</html>